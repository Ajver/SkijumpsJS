SJ.Label=class{constructor(x,y,content,aling=LEFT,vAling=CENTER){this.x=x,this.y=y,this.content=content,this.aling=aling,this.vAling=vAling}draw(){push(),textAlign(this.aling,this.vAling),text(this.content,this.x,this.y),pop()}},SJ.Screen=class{constructor(setup,draw){this.drawable=[],this.buttons=[],setup(this)}draw(){background(0,20,50),this.buttons.forEach(btn=>{btn.draw()})}onMouseMove(){let stopMouse=!1;return this.buttons.forEach(btn=>{if(this.isMouseInBtn(btn)){if(!btn.isMouseIn)return btn.isMouseIn=!0,btn.onMouseEnter(),void(stopMouse=!0)}else if(btn.isMouseIn)return btn.isMouseIn=!1,btn.onMouseLeave(),void(stopMouse=!0)}),stopMouse}onMousePress(){let stopMouse=!1;return this.buttons.forEach(btn=>{if(this.isMouseInBtn(btn))return btn.isPress=!0,btn.onMousePress(),void(stopMouse=!0)}),stopMouse}onMouseRelease(){let stopMouse=!1;return this.buttons.forEach(btn=>{if(btn.isPress&&(btn.isPress=!1,this.isMouseInBtn(btn)))return btn.onMouseRelease(),void(stopMouse=!0)}),stopMouse}isMouseInBtn(btn){return this.isMouseInRect(btn.x,btn.y,btn.w,btn.h)}isMouseInRect(x,y,w,h){return SJ.mouseScreenX>=x&&SJ.mouseScreenX<x+w&&SJ.mouseScreenY>=y&&SJ.mouseScreenY<y+h}},SJ.ScreensManager={},SJ.ScreensManager._isSetupped=!1,SJ.ScreensManager.setup=()=>{SJ.ScreensManager._isSetupped?SJ.ScreensManager.currentScreen=SJ.ScreensManager.screens.mainMenu:(SJ.ScreensManager.screens.mainMenu=new SJ.Screen(self=>{const btnW=300,btnH=50,startY=.5*SJ.SCREEN_HEIGHT,btnX=SJ.SCREEN_WIDTH/2-150,ySeparation=70;self.buttons.push(new SJ.Button(btnX,startY,300,50,null,()=>{console.log("released SKACZ")})),self.buttons.push(new SJ.Button(btnX,startY+70,300,50,null,()=>{console.log("released SKLEP")})),self.buttons.push(new SJ.Button(btnX,startY+140,300,50,null,()=>{console.log("released JAK GRAÄ†?")}))}),SJ.ScreensManager.currentScreen=SJ.ScreensManager.screens.mainMenu,SJ.ScreensManager._isSetupped=!0)},SJ.ScreensManager.currentScreen={draw:()=>{console.log("...!...!")}},SJ.ScreensManager.screens=[],SJ.ScreensManager.changeScreen=screen=>{SJ.ScreensManager.currentScreen=screen},SJ.ScreensManager.draw=()=>{SJ.ScreensManager.currentScreen.draw()},SJ.ScreensManager.onMouseMove=()=>SJ.ScreensManager.currentScreen.onMouseMove(),SJ.ScreensManager.onMousePress=()=>SJ.ScreensManager.currentScreen.onMousePress(),SJ.ScreensManager.onMouseRelease=()=>SJ.ScreensManager.currentScreen.onMouseRelease();