let isGameReady=!1;const SCREEN_WIDTH=1200,SCREEN_HEIGHT=720;let Bodies,World,Body,mouseScreenX=0,mouseScreenY=0,canvasScaler=null,engine=null,world=null,camera=null,jumper=null,pad=null,airSystem=null,scoreCounter=null,ui=null,drawableObjects=[],functionsToCall=[];function setup(){}function setupGame(){console.log("foo"),PadCreator.loadImages(),Bodies=Matter.Bodies,World=Matter.World,Body=Matter.Body;const canvas=createCanvas(SCREEN_WIDTH,SCREEN_HEIGHT);canvas.parent("skijump-game-container"),(canvasScaler=new CanvasScaler).setup(),rectMode(CENTER),engine=Matter.Engine.create(),(world=engine.world).gravity.y=.2,airSystem=new AirSystem,restartGame(),Matter.Engine.run(engine),setupInputManager(),isGameReady=!0}function draw(){isGameReady&&(background(51),push(),canvasScaler.transform(),jumper.update(),pad.update(),camera.update(),push(),camera.transform(),drawableObjects.forEach(element=>{element.draw()}),pop(),airSystem.update(),ui.draw(),pop(),functionsToCall.forEach(element=>{element[0](...element[1])}),functionsToCall=[])}function restartGame(){drawableObjects=[],jumper=new Jumper(310,1060),pad=new LaunchingPad,scoreCounter=new ScoreCounter,camera=new Camera(1),ui=new UI,drawableObjects.push(pad),drawableObjects.push(jumper),pad.onReady()}function callDeffered(func,parrams=[]){functionsToCall.push([func,parrams])}window.onload=()=>{loadScript("skijump-js/sj-libraries/p5.min.js"),loadScript("skijump-js/sj-libraries/matter.js"),loadScript("skijump-js/sj-tools/sj-PadCollisionPointsList.js"),loadScript("skijump-js/sj-tools/sj-CanvasScaler.js"),loadScript("skijump-js/sj-tools/sj-InputManager.js"),loadScript("skijump-js/sj-tools/sj-PadCreator.js"),loadScript("skijump-js/sj-tools/sj-ScoreCounter.js"),loadScript("skijump-js/sj-tools/sj-MessagesManager.js"),loadScript("skijump-js/sj-tools/sj-PullingSystem.js"),loadScript("skijump-js/sj-tools/sj-AirSystem.js"),loadScript("skijump-js/sj-objects/sj-Camera.js"),loadScript("skijump-js/sj-objects/sj-Jumper.js"),loadScript("skijump-js/sj-objects/sj-LaunchingPad.js"),loadScript("skijump-js/sj-objects/sj-UI.js")};let loadedScriptsCounter=0,scriptsToLoad=0;const loadScript=scriptPath=>{const scriptTag=document.createElement("script");scriptTag.src=scriptPath,document.head.appendChild(scriptTag)};class ScriptsLoader{constructor(){this._scriptsToLoad=0,this._loadedScriptsCounter=0}}